# Ray Tracer Examples

This directory contains example scene files demonstrating the ray tracer capabilities:

## Example Scenes

### Individual Primitive Examples

#### 1. Simple Sphere (`simple_sphere.json`)
- Single red sphere with Phong lighting
- Demonstrates basic sphere rendering and lighting
- **Output**: `simple_sphere_800x600.png`

#### 2. Simple Plane (`simple_plane.json`)
- Single green plane with Phong lighting
- Demonstrates plane rendering and basic lighting
- **Output**: `simple_plane_800x600.png`

#### 3. Simple Cube (`simple_cube.json`)
- Single blue cube with Phong lighting
- Demonstrates cube rendering and lighting
- **Output**: `simple_cube_800x600.png`

### Complex Scene Examples

#### 4. Multiple Objects (`multiple_objects.json`)
- Sphere, cube, and plane with checkered texture
- Multiple light sources with different colors
- Demonstrates:
  - All three primitive types combined
  - Grid texture on the plane
  - Multiple light sources
  - Different material properties
- **Output**: `multiple_objects_800x600.png`

#### 5. Fog Scene (`fog_scene.json`)
- Atmospheric fog demonstration
- Reflective sphere
- Demonstrates:
  - Atmospheric fog with linear falloff
  - Surface reflections
  - Depth-based lighting effects
- **Output**: `fog_scene_800x600.png`

#### 6. Transform Demo (`transform_demo.json`)
- Multiple objects demonstrating transform operations
- Shows rotation, translation, and scaling applied to spheres and cubes
- Demonstrates:
  - `rotate()`, `translate()`, and `scale()` transforms
  - Multiple transform operations combined
  - Transform order effects
  - Different object types with transforms
- **Output**: `transform_demo_800x600.png`

### Programmatic Examples

#### 7. Radial Spheres (`radial_spheres.json`)
- **Generated by**: `../radial_spheres_example.js` 
- Programmatically created scene with 8 colored spheres in a radial array
- Central white sphere with varied sphere sizes
- Ground plane with grid texture
- Demonstrates:
  - JavaScript/Node.js API for scene creation
  - HSV to RGB color conversion
  - Programmatic object placement
  - Multiple colored spheres with varied properties
- **Output**: `radial_spheres_800x600.png`

## Running the Examples

To render any JSON scene file:

### Command Line Interface

```bash
# From the root directory
../target/release/rtrace --input examples/SCENE_FILE.json --output OUTPUT.png --width 800 --height 600
```

For example:
```bash
../target/release/rtrace --input examples/simple_sphere.json --output my_render.png --width 800 --height 600
```

### JavaScript/Node.js API

You can also render scenes programmatically using the Node.js binding:

```javascript
const rtrace = require('../rtrace.node');

// Define scene as JavaScript object
const scene = {
    camera: { /* camera config */ },
    objects: [ /* array of objects */ ],
    lights: [ /* array of lights */ ],
    scene_settings: { /* scene settings */ }
};

// Convert to JSON and render
const sceneJson = JSON.stringify(scene);
const result = rtrace.renderScene(sceneJson, 'output.png', 800, 600);
console.log(result); // "Successfully rendered 800x600 image to 'output.png'"
```

#### Running the Programmatic Example

To run the radial spheres example that demonstrates programmatic scene creation:

```bash
# Build the Node.js bindings first (if not already built)
npm run build

# Run the programmatic example
node radial_spheres_example.js
```

This will create both `examples/radial_spheres.json` and `examples/radial_spheres_800x600.png`.

### Mesh Examples

#### 8. Icosahedron (`icosahedron_perspective.json`, `icosahedron_front.json`)
- Regular icosahedron (20-sided Platonic solid)
- Demonstrates:
  - Complex mesh rendering with multiple faces
  - Good middle ground between simple and complex geometry
  - Perspective and orthographic camera views
- **Files**: 
  - `icosahedron.stl` - Generated icosahedron mesh
  - `icosahedron_perspective.json` - 3D perspective view
  - `icosahedron_front.json` - Front orthographic view
- **Outputs**: 
  - `icosahedron_perspective_800x600.png`
  - `icosahedron_front_800x600.png`

```bash
# From the root directory
./target/release/rtrace --input examples/SCENE_FILE.json --output OUTPUT.png --width 800 --height 600
```

For example:
```bash
./target/release/rtrace --input examples/simple_sphere.json --output my_render.png --width 800 --height 600
```

## Scene Format

All scenes follow the JSON schema defined in `../schema.json`. Key features:

- **Camera**: Orthographic and perspective projections
- **Objects**: Sphere, plane, cube, mesh (STL) with materials and optional transforms
- **Transforms**: Rotate, translate, scale operations for object positioning  
- **Materials**: Phong lighting model with ambient, diffuse, specular components
- **Textures**: Grid pattern support for planes
- **Lighting**: Point and area light sources with color and intensity
- **Effects**: Ambient lighting and atmospheric fog

## Material Properties

- `ambient`: How much ambient light the surface reflects (0.0-1.0)
- `diffuse`: How much diffuse light the surface reflects (0.0-1.0)  
- `specular`: How much specular light the surface reflects (0.0-1.0)
- `shininess`: Phong exponent for specular highlights (higher = shinier)
- `reflectivity`: Optional mirror-like reflection coefficient (0.0-1.0)

## Object Transforms

All objects support optional transform operations:

- **`"rotate(x, y, z)"`**: Rotate around X, Y, Z axes (degrees)
- **`"translate(x, y, z)"`**: Move along X, Y, Z axes (world units) 
- **`"scale(x, y, z)"`**: Scale along X, Y, Z axes (multipliers)

Transform example:
```json
{
  "kind": "cube",
  "center": [0, 0, 0], 
  "size": [2, 2, 2],
  "material": { "color": "#FF4444", /* ... */ },
  "transform": [
    "scale(1.5, 1.5, 1.5)",
    "rotate(0, 45, 0)",
    "translate(3, 0, 0)"
  ]
}
```

Transforms are applied in order: first scale 1.5x, then rotate 45Â° around Y-axis, finally translate right 3 units.

## Textures

Currently supported textures:
- **Grid**: Creates a grid pattern with specified line color, width, and cell size